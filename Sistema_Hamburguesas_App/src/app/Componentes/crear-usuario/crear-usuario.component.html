<div class="h-full w-full flex flex-col">
    <app-header></app-header>

    <!-- Contenido Principal -->
    <div class="w-full h-full flex flex-col justify-center items-center">
      <div class="border-2 border-zinc-400 rounded p-6">
        <div class="w-full mb-4 text-xl text-zinc-500 text-center font-bold ">AGREGAR USUARIO</div>
        <hr>

        <form class="w-full my-2 flex flex-col gap-4 justify-center items-center" [formGroup]="crearUsuarioForm">
            <!-- Input Nombre -->
            <div class="w-full flex justify-center gap-6">
                <label for="input-nombre" class="w-1/3 py-1 text-lg text-end">Nombre:</label>
                <input id="input-nombre" class="w-2/3 px-2 py-1 text-md mb-4 border border-transparent focus:border-indigo-500 transition-all"
                [ngClass]="crearUsuarioForm.controls['nombre'].hasError('pattern') ? 'bg-red-200' : 'bg-zinc-100'"
                type="text" placeholder="Ingrese nombre completo" autocomplete="off" formControlName="nombre">
            </div>

            <!-- Input Correo -->
            <div class="w-full flex justify-center gap-6">
                <label for="input-correo" class="w-1/3 py-1 text-lg text-end">Correo:</label>
                <input id="input-correo" class="w-2/3 px-2 py-1 text-md mb-4 border border-transparent focus:border-indigo-500 transition-all"
                [ngClass]="crearUsuarioForm.controls['correo'].hasError('email') ? 'bg-red-200' : 'bg-zinc-100'"
                type="text" placeholder="Ingrese correo electronico" autocomplete="off" formControlName="correo">
            </div>

            <!-- Input Telefono -->
            <div class="w-full flex justify-center gap-6">
                <label for="input-telefono" class="w-1/3 py-1 text-lg text-end">Telefono:</label>
                <input id="input-telefono" class="w-2/3 px-2 py-1 text-md mb-4 border border-transparent focus:border-indigo-500 transition-all"
                [ngClass]="crearUsuarioForm.controls['telefono'].hasError('pattern') ? 'bg-red-200' : 'bg-zinc-100'"
                type="number" placeholder="Ingrese los 10 digitos de su numero" autocomplete="off" formControlName="telefono">
            </div>

            <!-- Input Contraseña -->
            <div class="relative w-full flex justify-center gap-6">
                <label for="input-password" class="w-1/3 py-1 text-lg text-end">Contraseña:</label>
                <div class="w-2/3 flex flex-col">
                    <input id="input-password" class="w-full px-2 py-1 text-md mb-4 border border-transparent focus:border-indigo-500 transition-colors"
                    [ngClass]="crearUsuarioForm.controls['contraseña'].hasError('pattern') ? 'bg-red-200 mb-1' : 'bg-zinc-100'"
                    [type]="mostrarContrasena ? 'text' : 'password'" placeholder="Ingrese su contraseña" autocomplete="off" formControlName="contraseña">

                    <div class=" relative text-center text-red-500/70 text-xs" *ngIf="crearUsuarioForm.controls['contraseña'].hasError('pattern')">
                        <div>
                          *Contraseña debe contener minimo 8 caracteres incluyendo:
                        </div>
                        <div>-Letras Mayusculas y Minusculas
                            - Números
                            - Caracteres Especiales
                        </div>
                    </div>
                </div>

                <!-- Botones mostrar contraseña -->
                 <mat-icon class="absolute right-4 top-1 text-zinc-500" alt="Mostrar" *ngIf="!mostrarContrasena" (click)="mostrarContrasena = true">visibility</mat-icon>
                 <mat-icon class="absolute right-4 top-1 text-zinc-500"  alt="Ocultar" *ngIf="mostrarContrasena" (click)="mostrarContrasena = false">visibility_off</mat-icon>

            </div>

            <!-- Input Confirmar Contraseña -->
            <div class="relative w-full flex justify-center gap-8">
                <label for="input-password-conf" class="w-1/3 py-1 text-lg text-end">Confirmación:</label>
                <input id="input-password-conf" class="w-2/3 px-2 py-1 text-md border border-transparent focus:border-indigo-500 transition-all"
                [ngClass]="crearUsuarioForm.controls['confirmacion'].hasError('pattern') ? 'bg-red-200' : 'bg-zinc-100'"
                [type]="mostrarConfirmacion ? 'text' : 'password'" placeholder="Ingrese de nuevo su contraseña" autocomplete="off" formControlName="confirmacion">

                <!-- Botones mostrar contraseña -->
                <mat-icon class="absolute right-4 top-1 text-zinc-500" alt="Mostrar" *ngIf="!mostrarConfirmacion" (click)="mostrarConfirmacion = true">visibility</mat-icon>
                <mat-icon class="absolute right-4 top-1 text-zinc-500"  alt="Ocultar" *ngIf="mostrarConfirmacion" (click)="mostrarConfirmacion = false">visibility_off</mat-icon>

            </div>

            <!-- Input Admin -->
            <div class="w-full flex justify-start items-center gap-6">
                <label class="w-1/3 py-1 text-lg text-end" for="admin-input">Administrador </label>
                <input id="admin-input" class="w-4 h-4 px-2 py-1 mt-2" type="checkbox" formControlName="administrador">
            </div>
        </form>
        <hr class="my-2">

        <!-- Contenedor botones -->
        <div class="flex justify-center gap-6 pl-64 text-md">
            <button class="px-6 py-2 text-white font-semibold bg-indigo-500 rounded-full enabled:active:animate-shrink disabled:opacity-50 disabled:cursor-not-allowed"
            type="submit" [disabled]="!crearUsuarioForm.valid" (click)="agregarUsuario()">
                Agregar
            </button>

            <button class="px-6 py-2 text-indigo-500 font-semibold border border-indigo-500 rounded-full active:animate-shrink"
            routerLink="/usuarios">
                Regresar
            </button>
        </div>

      </div>

    </div>
</div>
